/*plugins {
  id "com.github.node-gradle.node" // version "3.0.1"
}*/

clean.delete './webpack.config.js', 'build', './_AUTOGENERATED_tmp_externals_.es6', 'src/_AUTOGENERATED_tmp_externals_.es6'

compileJS.enabled = false

task runTest(type: NpmTask) {
    args = ['run', 'test:webpack']
}
test.dependsOn runTest


test.args = ['run', 'test:main']
test.outputs.dir('test/output')

task copyFiles(type: Copy) {
    from 'src'
    into '.'
    include '*.*'
}
copyFiles.inputs.dir('src')
copyFiles.outputs.files('./webpack.config.js')
build.dependsOn project.copyFiles
